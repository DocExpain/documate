{
  "version": 2,
  "trailingSlash": true,
  "cleanUrls": true,

  "redirects": [
    { "source": "/en",  "destination": "/", "permanent": true },
    { "source": "/en/", "destination": "/", "permanent": true }
  ],

  "routes": [
    { "src": "^/$", "dest": "/index.html" },

    { "src": "^/explain(/.*)?$",          "dest": "/index.html" },
    { "src": "^/fr/expliquer(/.*)?$",     "dest": "/fr/index.html" },

    { "src": "^/(ar|bn|de|es|hi|it|pt|ru|zh)/?$", "dest": "/$1/index.html" },

    { "src": "^/(robots\\.txt|ads\\.txt|site\\.webmanifest|sitemap\\.xml)$", "dest": "/$1" },
    { "src": "^/(favicon\\.ico|favicon-16\\.png|favicon-32\\.png|icon-192\\.png|icon-512\\.png|apple-touch-icon\\.png|og\\.jpg)$", "dest": "/$1" }
  ],

  "headers": [
    { "source": "/robots.txt",        "headers": [{ "key": "Content-Type", "value": "text/plain; charset=utf-8" }] },
    { "source": "/ads.txt",           "headers": [{ "key": "Content-Type", "value": "text/plain; charset=utf-8" }] },
    { "source": "/site.webmanifest",  "headers": [{ "key": "Content-Type", "value": "application/manifest+json; charset=utf-8" }] },
    { "source": "/sitemap.xml",       "headers": [{ "key": "Content-Type", "value": "application/xml; charset=utf-8" }] },
    { "source": "/favicon.ico",       "headers": [{ "key": "Content-Type", "value": "image/x-icon" }] },
    { "source": "/favicon-16.png",    "headers": [{ "key": "Content-Type", "value": "image/png" }] },
    { "source": "/favicon-32.png",    "headers": [{ "key": "Content-Type", "value": "image/png" }] },
    { "source": "/icon-192.png",      "headers": [{ "key": "Content-Type", "value": "image/png" }] },
    { "source": "/icon-512.png",      "headers": [{ "key": "Content-Type", "value": "image/png" }] },
    { "source": "/apple-touch-icon.png","headers": [{ "key": "Content-Type", "value": "image/png" }] },
    { "source": "/og.jpg",            "headers": [{ "key": "Content-Type", "value": "image/jpeg" }] }
  ]
}
